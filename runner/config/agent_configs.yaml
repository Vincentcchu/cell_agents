# Centralized configuration for agent entry points
agents:
  biomni:
    description: "Run Biomni's A1 agent with a CLAUDE-style LLM"
    cwd: runner
    command:
      - python
      - runner/scripts/biomni_cli.py
      - --task
      - "{task}"
      - --data
      - "{data_path}"
      - "--llm={param_llm}"
    env:
      static:
        BIOMNI_LLM: claude-sonnet-4-20250514
      from_secrets:
        ANTHROPIC_API_KEY: anthropic_api_key
        OPENAI_API_KEY: openai_api_key

  biomaster:
    description: "Execute BioMaster using the lightweight CLI wrapper"
    cwd: runner
    command:
      - python
      - runner/scripts/biomaster_cli.py
      - --task
      - "{task}"
      - --data
      - "{data_path}"
      - "--description={param_description}"
    env:
      static:
        BIOMASTER_BASE_URL: https://api.openai.com/v1
        BIOMASTER_MODEL: o3-mini-2025-01-31
        BIOMASTER_TOOL_MODEL: o3-mini-2025-01-31
        BIOMASTER_EMBEDDING_MODEL: text-embedding-3-large
        BIOMASTER_OUTPUT_DIR: agents/biomaster/output
      from_secrets:
        BIOMASTER_API_KEY: openai_api_key
        BIOMASTER_EMBEDDING_API_KEY: openai_api_key

  cassia:
    description: "Batch cell-type annotation via CASSIA"
    cwd: runner
    command:
      - python
      - runner/scripts/cassia_cli.py
      - --task
      - "{task}"
      - --data
      - "{data_path}"
      - "--output={param_output}"
      - "--model={param_model}"
      - "--provider={param_provider}"
      - "--tissue={param_tissue}"
      - "--species={param_species}"
    env:
      from_secrets:
        OPENROUTER_API_KEY: openrouter_api_key

  celltypeagent:
    description: "CellTypeAgent marker-based annotation"
    cwd: runner
    command:
      - python
      - runner/scripts/celltypeagent_cli.py
      - --task
      - "{task}"
      - --data
      - "{data_path}"
      - "--dataset-name={param_dataset}"
      - "--model={param_model}"
      - "--species={param_species}"
      - "--log-dir={param_logdir}"
    env:
      from_secrets:
        OPENAI_API_KEY: openai_api_key

  mllmcelltype:
    description: "mLLMCellType interactive consensus pipeline"
    cwd: runner
    command:
      - python
      - runner/scripts/mllm_cli.py
      - --task
      - "{task}"
      - --data
      - "{data_path}"
      - "--output={param_output}"
      - "--cluster-key={param_cluster}"
      - "--species={param_species}"
      - "--tissue={param_tissue}"
      - "--models={param_models}"
      - "--api-config={param_api_config}"
    env:
      from_secrets:
        OPENAI_API_KEY: openai_api_key
        OPENROUTER_API_KEY: openrouter_api_key
        ANTHROPIC_API_KEY: anthropic_api_key
